(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cef9d788"],{"07aca":function(t,e,n){},"216c":function(t,e,n){"use strict";n("07aca")},"2fa8":function(t,e,n){},4644:function(t,e,n){"use strict";n("853f")},"497a":function(t,e,n){"use strict";n("eefc")},"853f":function(t,e,n){},d945:function(t,e,n){"use strict";n("2fa8")},eefc:function(t,e,n){},f593:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"c-app"},[e("TheSidebar"),e("CWrapper",[e("TheHeader"),e("div",{staticClass:"c-body"},[e("main",{staticClass:"c-main"},[e("CContainer",{attrs:{fluid:""}},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view",{key:t.$route.path})],1)],1)],1)]),e("TheFooter")],1)],1)},a=[],s=n("841cd"),i=function(){var t=this,e=t._self._c;return e("CSidebar",{attrs:{fixed:"",minimize:t.minimize,show:t.show},on:{"update:show":function(e){return t.$store.commit("set",["sidebarShow",e])}}},[e("CSidebarBrand",{staticClass:"d-md-down-none",attrs:{to:"/"}},[e("div",{staticClass:"logos"},[e("img",{attrs:{src:"/jjenkins/gokinsui/imgs/logo.png"}}),e("span",[t._v("Gokins")])])]),e("CRenderFunction",{attrs:{flat:"","content-to-render":t.$options.nav}})],1)},r=[],c=[{_name:"CSidebarNav",_children:[{_name:"CSidebarNavTitle",_children:["Gokins"]},{_name:"CSidebarNavItem",name:"组织",to:"/org/list",icon:"cil-devices"},{_name:"CSidebarNavItem",name:"流水线",to:"/pipeline/list",icon:"cil-sitemap"},{_name:"CSidebarNavItem",name:"构建历史",to:"/pipelineVersion/list",icon:"cil-history"},{_name:"CSidebarNavItem",name:"用户管理",to:"/user/list",icon:"cil-user"}]}],d={name:"TheSidebar",nav:c,computed:{show:function(){return this.$store.state.sidebarShow},minimize:function(){return this.$store.state.sidebarMinimize}}},u=d,l=(n("497a"),n("f900")),m=Object(l["a"])(u,i,r,!1,null,"0cf5b740",null),h=m.exports,f=function(){var t=this,e=t._self._c;return e("CHeader",{attrs:{fixed:"","with-subheader":"",light:""}},[e("CToggler",{staticClass:"ml-3 d-lg-none",attrs:{"in-header":""},on:{click:function(e){return t.$store.commit("toggleSidebarMobile")}}}),e("CToggler",{staticClass:"ml-3 d-md-down-none",attrs:{"in-header":""},on:{click:function(e){return t.$store.commit("toggleSidebarDesktop")}}}),e("CHeaderBrand",{staticClass:"mx-auto d-lg-none",attrs:{to:"/"}},[e("CIcon",{attrs:{name:"logo",height:"48",alt:"Logo"}})],1),e("CHeaderNav",{staticClass:"d-md-down-none mr-auto"},[e("CHeaderNavItem",{staticClass:"px-3"},[e("CHeaderNavLink",{attrs:{to:"/org"}},[t._v(" 组织 ")])],1),e("CHeaderNavItem",{staticClass:"px-3"},[e("CHeaderNavLink",{attrs:{to:"/pipeline",exact:""}},[t._v(" 流水线 ")])],1),e("CHeaderNavItem",{staticClass:"px-3"},[e("CHeaderNavLink",{attrs:{to:"/user/info/".concat(t.uids)}},[t._v(" 个人信息 ")])],1)],1),e("CHeaderNav",{staticClass:"mr-4"},[e("CHeaderNavItem",{staticClass:"d-md-down-none mx-2"},[e("CHeaderNavLink",[e("CIcon",{attrs:{name:"cil-bell"}})],1)],1),e("CHeaderNavItem",{staticClass:"d-md-down-none mx-2"},[e("CHeaderNavLink",[e("CIcon",{attrs:{name:"cil-list"}})],1)],1),e("CHeaderNavItem",{staticClass:"d-md-down-none mx-2"},[e("CHeaderNavLink",[e("CIcon",{attrs:{name:"cil-envelope-open"}})],1)],1),e("TheHeaderDropdownAccnt")],1),e("CSubheader",{staticClass:"px-3"},[e("CButton",{directives:[{name:"show",rawName:"v-show",value:t.showBack,expression:"showBack"}],staticClass:"backBtn",on:{click:t.goBack}},[e("CIcon",{attrs:{content:t.$options.coreics["cilChevronLeft"]}}),t._v("back ")],1),e("CButton",{directives:[{name:"show",rawName:"v-show",value:t.orgId&&""!=t.orgId,expression:"orgId && orgId != ''"}],staticClass:"backBtn",staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.goOrg(t.orgId)}}},[e("CIcon",{attrs:{content:t.$options.coreics["cilChevronLeft"]}}),t._v("组织: "+t._s(t.orgName)+" ")],1),e("CBreadcrumbRouter",{staticClass:"border-0 mb-0"})],1)],1)},g=[],v=n("7606"),C=function(){var t=this,e=t._self._c;return e("CDropdown",{staticClass:"c-header-nav-items",attrs:{inNav:"",placement:"bottom-end","add-menu-classes":"pt-0"},scopedSlots:t._u([{key:"toggler",fn:function(){return[e("CHeaderNavLink",[e("div",{staticClass:"c-avatar"},[e("img",{staticClass:"c-avatar-img",attrs:{src:"/jjenkins/gokinsui/imgs/avatars/def.png"}})]),t._v(" "+t._s(t.nicks)+" ")])]},proxy:!0}])},[e("CDropdownHeader",{staticClass:"text-center",attrs:{tag:"div",color:"light"}},[e("strong",[t._v("Settings")])]),e("CDropdownItem",{on:{click:function(e){return t.$router.push("/user/info/".concat(t.user.id))}}},[e("CIcon",{attrs:{name:"cil-user"}}),t._v(" Profile ")],1),e("CDropdownItem",{on:{click:t.logoutFun}},[e("CIcon",{attrs:{name:"cil-lock-locked"}}),t._v(" Logout ")],1)],1)},p=[],b=n("08c7"),k={name:"TheHeaderDropdownAccnt",data:function(){return{itemsCount:42}},computed:{user:function(){return this.$store.state.user||{}},nicks:function(){var t,e;return(null===(t=this.$store.state.user)||void 0===t?void 0:t.nick)||(null===(e=this.$store.state.user)||void 0===e?void 0:e.name)}},methods:{logoutFun:function(){Object(b["b"])(),this.$store.commit("clearUserInfo"),this.$router.push("/login")}}},w=k,_=(n("d945"),Object(l["a"])(w,C,p,!1,null,"dd66cf7e",null)),I=_.exports,N={coreics:v["a"],name:"TheHeader",components:{TheHeaderDropdownAccnt:I},data:function(){return{orgId:"",orgName:"",showBack:!1}},computed:{uids:function(){var t;return null===(t=this.$store.state.user)||void 0===t?void 0:t.id}},watch:{$route:function(t,e){this.showBack=window.history.length>1;var n=this.$route.query.org||"";""==n?this.orgId="":n!=this.orgId&&(this.orgId=n,this.orgName=this.orgId,this.getOrgInfo(this.orgId))}},mounted:function(){this.showBack=window.history.length>1},methods:{goBack:function(){this.$router.back(-1)},goOrg:function(t){this.$router.push("/org/info/".concat(t))},getOrgInfo:function(t){var e=this;this.loading=!0,Object(s["t"])(t).then((function(t){e.orgName=t.data.org.name})).catch((function(t){return Object(s["gb"])(e,t)}))}}},H=N,$=(n("4644"),Object(l["a"])(H,f,g,!1,null,"25f77eef",null)),x=$.exports,S=function(){var t=this,e=t._self._c;return e("CFooter",{attrs:{fixed:!1}},[e("div",[e("a",{attrs:{href:"http://gokins.cn",target:"_blank"}},[t._v("Gokins")]),e("span",{staticClass:"ml-1"},[t._v("© "+t._s((new Date).getFullYear())+" ")]),e("span",{staticClass:"ml-1"},[t._v("Version: "+t._s(t.version)+"。")])]),e("div",{staticClass:"mfs-auto"},[e("span",{staticClass:"mr-1"},[t._v("Powered by")]),e("a",{attrs:{href:"https://coreui.io/vue",target:"_blank"}},[t._v("CoreUI for Vue")])])])},T=[],j={name:"TheFooter",data:function(){return{version:"1.0.0"}},mounted:function(){this.getVersion()},methods:{getVersion:function(){var t=this;Object(s["q"])().then((function(e){t.version=e.data})).catch((function(t){return console.log(t)}))}}},B=j,O=Object(l["a"])(B,S,T,!1,null,null,null),L=O.exports,y={name:"TheContainer",components:{TheSidebar:h,TheHeader:x,TheFooter:L},mounted:function(){this.getUInfo()},methods:{getUInfo:function(){var t=this;Object(s["Y"])().then((function(e){1==e.data.login?t.$store.commit("setUserInfo",e.data):t.$router.push("/login")})).catch((function(e){console.log("getUInfo err",e),t.$router.push("/login")}))}}},D=y,F=(n("216c"),Object(l["a"])(D,o,a,!1,null,"c192f4ee",null));e["default"]=F.exports}}]);
//# sourceMappingURL=chunk-cef9d788.c4ef5cba.js.map