(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d73f9abe","chunk-74ae09a0"],{"1d46":function(t,n,r){"use strict";r.r(n);var e=function(){var t=this,n=t._self._c;return n("div",[n("CCard",[n("CCardHeader",[n("div",{staticClass:"crdhead"},[n("myavatar",{attrs:{src:t.user.avatar,nick:t.user.nick,imgw:"18px"}}),1==t.user.active?n("div",{staticClass:"tag"},[t._v("已激活")]):n("div",{staticClass:"tag"},[t._v("未激活")])],1)]),n("CCardBody",[n("CTabs",{attrs:{variant:"pills",vertical:{navs:"col-md-2",content:"col-md-10"}}},[n("CTab",{attrs:{active:""}},[n("template",{slot:"title"},[n("CIcon",{attrs:{name:"cil-calculator"}}),t._v(" 基础信息 ")],1),n("CCard",{staticStyle:{padding:"20px"},attrs:{"accent-color":"primary"}},[n("CRow",[n("CCol",[t._v("用户名: "+t._s(t.user.name))]),n("CCol",[t._v("注册时间: "+t._s(t.$dateFmt(t.user.created)))]),n("CCol",[t._v("序号: "+t._s(t.user.aid))])],1),n("CRow",[n("CCol",[t._v("是否激活: "+t._s(1==t.user.active?"已激活":"未激活"))]),n("CCol",[t._v("登录时间: "+t._s(t.$dateFmt(t.user.loginTime)))]),n("CCol",[t._v("编号: "+t._s(t.user.id))])],1)],1),n("CCard",{staticStyle:{padding:"20px"},attrs:{"accent-color":"primary"}},[n("CRow",[n("CCol",[t._v("电话: "+t._s(t.uinfo.phone))]),n("CCol",[t._v("电子邮箱: "+t._s(t.uinfo.email))])],1),n("CRow",[n("CCol",[t._v("备注: "+t._s(t.uinfo.remark))])],1)],1)],2),t.user.id==t.lginfo.id||"admin"==t.lginfo.id?n("CTab",[n("template",{slot:"title"},[n("CIcon",{attrs:{name:"cil-calculator"}}),t._v(" 修改信息 ")],1),n("CCard",{attrs:{"accent-color":"primary"}},[n("CCardHeader",[n("strong",[t._v("信息 ")])]),n("CCardBody",[n("CRow",[n("CCol",{attrs:{sm:"12"}},[n("CInput",{attrs:{label:"昵称",placeholder:"请输入昵称"},model:{value:t.formData.nick,callback:function(n){t.$set(t.formData,"nick",n)},expression:"formData.nick"}})],1)],1),n("CRow",[n("CCol",{attrs:{sm:"12"}},[n("CInput",{attrs:{label:"电话",placeholder:"请输入电话"},model:{value:t.formData.phone,callback:function(n){t.$set(t.formData,"phone",n)},expression:"formData.phone"}})],1)],1),n("CRow",[n("CCol",{attrs:{sm:"12"}},[n("CInput",{attrs:{label:"email",placeholder:"请输入email"},model:{value:t.formData.email,callback:function(n){t.$set(t.formData,"email",n)},expression:"formData.email"}})],1)],1),n("CRow",[n("CCol",{attrs:{sm:"12"}},[n("CTextarea",{attrs:{label:"备注",placeholder:"请输入备注",rows:"10"},model:{value:t.formData.remark,callback:function(n){t.$set(t.formData,"remark",n)},expression:"formData.remark"}})],1)],1),n("CRow",{staticClass:"subRow"},[n("CCol",{attrs:{sm:"6"}},[n("CButton",{attrs:{color:"info",disabled:t.subinfo},on:{click:function(n){return t.subUpinfo()}}},[t._v("保存")])],1)],1)],1)],1),"admin"==t.lginfo.id&&"admin"!=t.user.id?n("CCard",{attrs:{"accent-color":"danger"}},[n("CCardHeader",{staticStyle:{"background-color":"#ffe8e6"}},[n("strong",[t._v("危险操作区")])]),n("CCardBody",{staticStyle:{display:"flex"}},[n("div",{staticStyle:{flex:"1"}},[n("h5",[t._v("激活/禁止 用户")]),n("p",[t._v("只能管理员操作,请谨慎操作")])]),n("div",[n("CButton",{attrs:{color:"danger",variant:"outline",square:"",disabled:t.subact},on:{click:function(n){return t.actFun(1==t.user.active?"0":"1")}}},[t._v(" "+t._s(1==t.user.active?"禁止":"激活")+"用户 ")])],1)])],1):t._e()],2):t._e(),t.user.id==t.lginfo.id||"admin"==t.lginfo.id?n("CTab",[n("template",{slot:"title"},[n("CIcon",{attrs:{name:"cil-calculator"}}),t._v(" 修改密码 ")],1),n("CCard",{attrs:{"accent-color":"primary"}},[n("CCardBody",[t.user.id==t.lginfo.id||"admin"!=t.lginfo.id?n("CRow",[n("CCol",{attrs:{sm:"12"}},[n("CInput",{attrs:{label:"旧密码",type:"password",placeholder:"请输入旧密码"},model:{value:t.passData.olds,callback:function(n){t.$set(t.passData,"olds",n)},expression:"passData.olds"}})],1)],1):t._e(),n("CRow",[n("CCol",{attrs:{sm:"12"}},[n("CInput",{attrs:{label:"新密码",type:"password",placeholder:"请输入新密码"},model:{value:t.passData.pass,callback:function(n){t.$set(t.passData,"pass",n)},expression:"passData.pass"}})],1)],1),n("CRow",[n("CCol",{attrs:{sm:"12"}},[n("CInput",{attrs:{label:"重复密码",type:"password",placeholder:"请重复密码"},model:{value:t.passData.repass,callback:function(n){t.$set(t.passData,"repass",n)},expression:"passData.repass"}})],1)],1),n("CRow",{staticClass:"subRow"},[n("CCol",{attrs:{sm:"6"}},[n("CButton",{attrs:{color:"info"},on:{click:function(n){return t.subUpass()}}},[t._v("提交")])],1)],1)],1)],1)],2):t._e()],1)],1)],1)],1)},i=[],u=r("7150"),a=r("841cd"),o={components:{myavatar:u["a"]},data:function(){return{user:{},uinfo:{},subinfo:!1,subact:!1,formData:{},passData:{}}},computed:{lginfo:function(){return this.$store.state.uinfo||{}}},mounted:function(){null!=this.$route.params&&null!=this.$route.params.id&&""!=this.$route.params.id?this.getInfo(this.$route.params.id):this.$router.push("/404")},methods:{getInfo:function(t){var n=this;Object(a["ab"])(t).then((function(t){n.subinfo=!1,n.subact=!1,n.user=t.data.user,n.uinfo=t.data.info,n.formData={id:n.user.id,nick:n.user.nick,phone:n.uinfo.phone,email:n.uinfo.email,remark:n.uinfo.remark},n.passData={id:n.user.id,olds:"",pass:"",repass:""}})).catch((function(t){return Object(a["gb"])(n,t)}))},subUpinfo:function(){var t=this;this.formData.nick?(this.subinfo=!0,Object(a["eb"])(this.formData).then((function(){t.getInfo(t.user.id),t.$msgOk("保存成功")})).catch((function(n){return Object(a["gb"])(t,n,(function(){t.subinfo=!1}))}))):this.$msgErr("昵称必填")},subUpass:function(){var t=this;this.passData.pass?this.passData.pass==this.passData.repass?Object(a["fb"])(this.passData).then((function(){t.$msgOk("修改成功"),t.passData={id:t.user.id,olds:"",pass:"",repass:""}})).catch((function(n){return Object(a["gb"])(t,n,(function(n){var r=n.response?n.response.status:0;return 511==r?(t.$msgErr("旧密码错误!"),!0):512==r?(t.$msgErr("旧密码错误!!"),!0):513==r?(t.$msgErr("无法修改密码!!"),!0):void 0}))})):this.$msgErr("两次密码不一致"):this.$msgErr("新密码必填")},actFun:function(t){var n=this;"admin"!=this.user.id?this.$confirm("确定禁止/激活用户吗?",null,(function(){n.subact=!0,Object(a["Z"])(n.user.id,t).then((function(){n.getInfo(n.user.id)})).catch((function(t){return Object(a["gb"])(n,t)}))})):this.$msgErr("无法禁止管理员")}}},s=o,c=(r("5b2a"),r("f900")),f=Object(c["a"])(s,e,i,!1,null,"0a49ba54",null);n["default"]=f.exports},"5b2a":function(t,n,r){"use strict";r("64d4")},"64d4":function(t,n,r){},7150:function(t,n,r){"use strict";var e=function(){var t=this,n=t._self._c;return n("div",{staticClass:"users"},[n("div",{staticClass:"c-avatar avat",style:{width:t.imgw&&""!=t.imgw?t.imgw:"auto"}},[n("img",{staticClass:"c-avatar-img",attrs:{src:t.src&&""!=t.src?t.src:"/jjenkins/gokinsui/imgs/avatars/def.png"}})]),n("div",{staticClass:"nicks"},[t._v(t._s(t.nick))])])},i=[],u={props:{src:String,nick:String,imgw:String},data:function(){return{}}},a=u,o=(r("81a2"),r("f900")),s=Object(o["a"])(a,e,i,!1,null,"07836378",null);n["a"]=s.exports},"81a2":function(t,n,r){"use strict";r("ec34")},"841cd":function(t,n,r){"use strict";r.d(n,"r",(function(){return i})),r.d(n,"Y",(function(){return u})),r.d(n,"gb",(function(){return a})),r.d(n,"q",(function(){return o})),r.d(n,"cb",(function(){return s})),r.d(n,"bb",(function(){return c})),r.d(n,"ab",(function(){return f})),r.d(n,"eb",(function(){return d})),r.d(n,"fb",(function(){return l})),r.d(n,"Z",(function(){return b})),r.d(n,"db",(function(){return p})),r.d(n,"u",(function(){return m})),r.d(n,"v",(function(){return C})),r.d(n,"t",(function(){return v})),r.d(n,"D",(function(){return g})),r.d(n,"A",(function(){return j})),r.d(n,"z",(function(){return O})),r.d(n,"B",(function(){return h})),r.d(n,"C",(function(){return _})),r.d(n,"w",(function(){return k})),r.d(n,"x",(function(){return w})),r.d(n,"E",(function(){return D})),r.d(n,"R",(function(){return $})),r.d(n,"l",(function(){return y})),r.d(n,"G",(function(){return I})),r.d(n,"y",(function(){return x})),r.d(n,"s",(function(){return R})),r.d(n,"F",(function(){return E})),r.d(n,"S",(function(){return S})),r.d(n,"L",(function(){return B})),r.d(n,"J",(function(){return T})),r.d(n,"I",(function(){return U})),r.d(n,"m",(function(){return F})),r.d(n,"k",(function(){return V})),r.d(n,"K",(function(){return H})),r.d(n,"V",(function(){return J})),r.d(n,"o",(function(){return q})),r.d(n,"H",(function(){return Z})),r.d(n,"T",(function(){return z})),r.d(n,"n",(function(){return A})),r.d(n,"ib",(function(){return G})),r.d(n,"hb",(function(){return K})),r.d(n,"Q",(function(){return L})),r.d(n,"O",(function(){return M})),r.d(n,"M",(function(){return N})),r.d(n,"N",(function(){return P})),r.d(n,"P",(function(){return Q})),r.d(n,"c",(function(){return W})),r.d(n,"b",(function(){return X})),r.d(n,"a",(function(){return Y})),r.d(n,"e",(function(){return tt})),r.d(n,"d",(function(){return nt})),r.d(n,"g",(function(){return rt})),r.d(n,"f",(function(){return et})),r.d(n,"i",(function(){return it})),r.d(n,"h",(function(){return ut})),r.d(n,"j",(function(){return at})),r.d(n,"W",(function(){return ot})),r.d(n,"U",(function(){return st})),r.d(n,"p",(function(){return ct})),r.d(n,"X",(function(){return ft}));var e=r("a474"),i=function(t,n){return Object(e["b"])("/lg/login",{name:t,pass:n})},u=function(){return Object(e["b"])("/lg/info",{})},a=function(t,n,r){var e=n.response?n.response.status:0;if(403==e)return t.$store.commit("clearUserInfo"),void t.$router.push("/login");var i=!1;r&&"function"===typeof r&&(i=r(n,t)),1!=i&&(404==e?t.$msgErr("未找到内容"):405==e?t.$msgErr("无权限"):t.$msgErr(n.response?n.response.data||"服务器错误":"网络错误"))},o=function(){return Object(e["b"])("/version")},s=function(t){return Object(e["b"])("/user/page",t)},c=function(t){return Object(e["b"])("/user/new",t)},f=function(t){return Object(e["b"])("/user/info",{id:t})},d=function(t){return Object(e["b"])("/user/upinfo",t)},l=function(t){return Object(e["b"])("/user/upass",t)},b=function(t,n){return Object(e["b"])("/user/active",{id:t,act:n})},p=function(t){return Object(e["b"])("/user/perm",t)},m=function(t){return Object(e["b"])("/org/list",t)},C=function(t){return Object(e["b"])("/org/new",t)},v=function(t){return Object(e["b"])("/org/info",{id:t})},g=function(t){return Object(e["b"])("/org/users",{id:t})},j=function(t){return Object(e["b"])("/org/save",t)},O=function(t){return Object(e["b"])("/org/rm",{id:t})},h=function(t){return Object(e["b"])("/org/user/edit",t)},_=function(t,n){return Object(e["b"])("/org/user/rm",{id:t,uid:n})},k=function(t,n){return Object(e["b"])("/org/pipe/add",{id:t,pipeId:n})},w=function(t,n){return Object(e["b"])("/org/pipe/rm",{id:t,pipeId:n})},D=function(t){return Object(e["b"])("/org/vars",t)},$=function(t){return Object(e["b"])("org/var/save",t)},y=function(t){return Object(e["b"])("/org/var/del",t)},I=function(t){return Object(e["b"])("/pipeline/pipelines",t)},x=function(t){return Object(e["b"])("/pipeline/org/pipelines",t)},R=function(t){return Object(e["b"])("/pipeline/new",t)},E=function(t){return Object(e["b"])("/pipeline/info",t)},S=function(t){return Object(e["b"])("/pipeline/save",t)},B=function(t){return Object(e["b"])("/pipeline/run",t)},T=function(t){return Object(e["b"])("/pipeline/pipelineVersions",t)},U=function(t){return Object(e["b"])("/pipeline/pipelineVersion",{id:t})},F=function(t){return Object(e["b"])("/pipeline/delete",{id:t})},V=function(t){return Object(e["b"])("/pipeline/copy",{pipelineId:t})},H=function(t){return Object(e["b"])("/pipeline/rebuild",{pipelineVersionId:t})},J=function(t){return Object(e["b"])("/pipeline/search/sha",t)},q=function(t){return Object(e["b"])("/pipelineVersion/delete",{id:t})},Z=function(t){return Object(e["b"])("/pipeline/vars",t)},z=function(t){return Object(e["b"])("pipeline/var/save",t)},A=function(t){return Object(e["b"])("/pipeline/var/del",t)},G=function(){return Object(e["b"])("/yml/templates")},K=function(){return Object(e["b"])("/yml/plugins")},L=function(t){return Object(e["b"])("/runtime/stages",{pvId:t})},M=function(t){return Object(e["b"])("/runtime/cmds",{stepId:t})},N=function(t){return Object(e["b"])("/runtime/build",{buildId:t})},P=function(t){return Object(e["b"])("/runtime/cancel",{buildId:t})},Q=function(t,n,r){return Object(e["b"])("/runtime/logs",{buildId:t,stepId:n,offset:r})},W=function(t){return Object(e["b"])("/art/org-list",t)},X=function(t){return Object(e["b"])("/art/info",{id:t})},Y=function(t){return Object(e["b"])("/art/edit",t)},tt=function(t){return Object(e["b"])("/art/rm",{id:t})},nt=function(t){return Object(e["b"])("/art/package/list",t)},rt=function(t){return Object(e["b"])("/art/version/list",t)},et=function(t){return Object(e["b"])("/art/version/infos",{id:t})},it=function(t){return Object(e["b"])("/art/version/save",t)},ut=function(t){return Object(e["b"])("/art/version/rm",{id:t})},at=function(t,n){return Object(e["b"])("/art/version/url",{id:t,path:n})},ot=function(t){return Object(e["b"])("/trigger/triggers",t)},st=function(t){return Object(e["b"])("/trigger/save",t)},ct=function(t){return Object(e["b"])("/trigger/delete",{id:t})},ft=function(t){return Object(e["b"])("/trigger/runs",t)}},ec34:function(t,n,r){}}]);
//# sourceMappingURL=chunk-d73f9abe.ba1287c8.js.map